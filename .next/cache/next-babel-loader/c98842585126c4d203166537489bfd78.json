{"ast":null,"code":"export default ((req, res) => {\n  if (req.method === \"POST\") {\n    const {\n      name,\n      from,\n      message\n    } = req.body;\n    var api_key = \"07df993f149baa7963e6df5f44a9a7d3-468bde97-aa63cfb1\"; //var domain = \"mg.caqophony.com\";\n    // var domain = \"sandboxe8d4ea9d73034098a547f4c7007d7f0a.mailgun.org\";\n\n    var domain = \"mg.caqophony.com\";\n\n    var mailgun = require(\"mailgun-js\")({\n      apiKey: api_key,\n      domain: domain\n    });\n\n    var data = {\n      from: `${name} <${from}>`,\n      to: \"mike@gamaroff.com\",\n      subject: \"Caqophony Mail form\",\n      text: `${name} just sent you an email.  ${message}`,\n      html: `${name} just sent you an email.<br><br>${message}`\n    };\n    mailgun.messages().send(data, function (error, body) {\n      if (error) {\n        return res.json(error);\n      } else {\n        return res.json(body);\n      }\n    });\n  } else {}\n});\n/*\n{\n    \"web\":{\n        \"client_id\":\"907024976593-dh568ubgom2evbvdf9puvigjf05t7dqc.apps.googleusercontent.com\",\n        \"project_id\":\"quickstart-1592888829168\",\n         \"auth_uri\":\"https://accounts.google.com/o/oauth2/auth\",\n        \"token_uri\":\"https://oauth2.googleapis.com/token\",\n        \"auth_provider_x509_cert_url\":\"https://www.googleapis.com/oauth2/v1/certs\",\n         \"client_secret\":\"FB8yLWwZ1Qp8-QBtNiCz6950\",\n         \"javascript_origins\":[\"http://caqophony.com\"]}\n    }\n*/","map":{"version":3,"sources":["/Users/mikegam/Documents/caqophonyNext/pages/api/mail.js"],"names":["req","res","method","name","from","message","body","api_key","domain","mailgun","require","apiKey","data","to","subject","text","html","messages","send","error","json"],"mappings":"AAAA,gBAAe,CAACA,GAAD,EAAMC,GAAN,KAAc;AAC3B,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,UAAM;AAAEC,MAAAA,IAAF;AAAQC,MAAAA,IAAR;AAAcC,MAAAA;AAAd,QAA0BL,GAAG,CAACM,IAApC;AAEA,QAAIC,OAAO,GAAG,oDAAd,CAHyB,CAIzB;AACA;;AACA,QAAIC,MAAM,GAAG,kBAAb;;AACA,QAAIC,OAAO,GAAGC,OAAO,CAAC,YAAD,CAAP,CAAsB;AAAEC,MAAAA,MAAM,EAAEJ,OAAV;AAAmBC,MAAAA,MAAM,EAAEA;AAA3B,KAAtB,CAAd;;AAEA,QAAII,IAAI,GAAG;AACTR,MAAAA,IAAI,EAAG,GAAED,IAAK,KAAIC,IAAK,GADd;AAETS,MAAAA,EAAE,EAAE,mBAFK;AAGTC,MAAAA,OAAO,EAAE,qBAHA;AAITC,MAAAA,IAAI,EAAG,GAAEZ,IAAK,6BAA4BE,OAAQ,EAJzC;AAKTW,MAAAA,IAAI,EAAG,GAAEb,IAAK,mCAAkCE,OAAQ;AAL/C,KAAX;AAQAI,IAAAA,OAAO,CAACQ,QAAR,GAAmBC,IAAnB,CAAwBN,IAAxB,EAA8B,UAAUO,KAAV,EAAiBb,IAAjB,EAAuB;AACnD,UAAIa,KAAJ,EAAW;AACT,eAAOlB,GAAG,CAACmB,IAAJ,CAASD,KAAT,CAAP;AACD,OAFD,MAEO;AACL,eAAOlB,GAAG,CAACmB,IAAJ,CAASd,IAAT,CAAP;AACD;AACF,KAND;AAOD,GAxBD,MAwBO,CACN;AACF,CA3BD;AA6BA","sourcesContent":["export default (req, res) => {\n  if (req.method === \"POST\") {\n    const { name, from, message } = req.body;\n\n    var api_key = \"07df993f149baa7963e6df5f44a9a7d3-468bde97-aa63cfb1\";\n    //var domain = \"mg.caqophony.com\";\n    // var domain = \"sandboxe8d4ea9d73034098a547f4c7007d7f0a.mailgun.org\";\n    var domain = \"mg.caqophony.com\";\n    var mailgun = require(\"mailgun-js\")({ apiKey: api_key, domain: domain });\n\n    var data = {\n      from: `${name} <${from}>`,\n      to: \"mike@gamaroff.com\",\n      subject: \"Caqophony Mail form\",\n      text: `${name} just sent you an email.  ${message}`,\n      html: `${name} just sent you an email.<br><br>${message}`,\n    };\n\n    mailgun.messages().send(data, function (error, body) {\n      if (error) {\n        return res.json(error);\n      } else {\n        return res.json(body);\n      }\n    });\n  } else {\n  }\n};\n\n/*\n{\n    \"web\":{\n        \"client_id\":\"907024976593-dh568ubgom2evbvdf9puvigjf05t7dqc.apps.googleusercontent.com\",\n        \"project_id\":\"quickstart-1592888829168\",\n         \"auth_uri\":\"https://accounts.google.com/o/oauth2/auth\",\n        \"token_uri\":\"https://oauth2.googleapis.com/token\",\n        \"auth_provider_x509_cert_url\":\"https://www.googleapis.com/oauth2/v1/certs\",\n         \"client_secret\":\"FB8yLWwZ1Qp8-QBtNiCz6950\",\n         \"javascript_origins\":[\"http://caqophony.com\"]}\n    }\n*/\n"]},"metadata":{},"sourceType":"module"}